<MCard Outlined MaxWidth="1024" Class="mx-auto">
    <MCardTitle>
        <MToolbar Dense Flat>
            <MTextField Label="SearchContent"
                        @bind-Value="@SearchContent"
                        Color="primary"
                        TValue="string"
                        Clearable
                        HideDetails="true"
                        AppendOuterIcon="mdi-magnify"
                        OnAppendOuterClick="()=>this.OnSearch()"
                        OnClearClick="()=>this.OnSearch()"
                        OnEnter="()=>this.OnSearch()">
            </MTextField> <MButtonGroup Dense Borderless Tile>
                <MButton Icon OnClick="()=>this.OnReload()">
                    <MIcon Color="orange darken-4">mdi-refresh</MIcon>
                </MButton>
                <MButton Icon>
                    <MIcon Color="orange darken-4">mdi-cog-outline</MIcon>
                </MButton>
            </MButtonGroup>
        </MToolbar>
    </MCardTitle>
    <MCardText>
        <UIDynamicHeight>
            <MVirtualScroll OverscanCount="2" ItemSize="64" Items="Core.ListSwitch_Search">
                <ItemContent>
                    <MListItem Dense>

                        <MListItemContent>
                            <MListItemTitle>
                                @context.DisplayName
                            </MListItemTitle>
                            <MListItemSubtitle>@context.DisplayDesc</MListItemSubtitle>

                        </MListItemContent>
                        <MListItemAction>
                            @if (context.ButtonType)
                            {
                                <MButton Icon
                                         Color="orange darken-4"
                                         Loading="@context.Loading"
                                         Disabled="context.Loading"
                                         OnClick="()=>OnChange(context)">
                                    <MIcon>mdi-crosshairs</MIcon>
                                </MButton>
                            }
                            else if (context.SelectedContents is not null)
                            {
                                <MSelect Dense HideDetails="true"
                                         TItem="GameValueInfoDTO"
                                         TItemValue="string"
                                         TValue="string"
                                         @bind-Value="@context.ContentValue"
                                         Items="context.SelectedContents"
                                         ItemText="p=>p.DisplayName"
                                         ItemValue="p=>p.DisplayValue"
                                         Color="orange darken-4"
                                         AppendOuterIcon="mdi-crosshairs"
                                         OnAppendOuterClick="()=>OnChange(context)"
                                         SingleLine></MSelect>

                            }
                            else
                            {
                                <MSwitch Inset
                                         Color="orange darken-4"
                                         Loading="@context.Loading"
                                         Disabled="context.Loading"
                                         OnClick="()=>OnChange(context)"
                                         @bind-Value="@context.SwitchValue">
                                </MSwitch>
                            }

                        </MListItemAction>
                    </MListItem>

                    <MDivider></MDivider>
                </ItemContent>
            </MVirtualScroll>
        </UIDynamicHeight>

    </MCardText>
</MCard>


